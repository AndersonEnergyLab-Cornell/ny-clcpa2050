dte <- read.csv(paste('./Dates/merradates_',as.character(yr),'.csv',sep=''))
dtefmt<- strptime(dte$x, format="%Y-%m-%d  %H:%M")
fallndx <- which(month(dtefmt) == month(falldte) & day(dtefmt) == day(falldte) & hour(dtefmt)==1)[1]
sprndx <- which(month(dtefmt) == month(sprdte) & day(dtefmt) == day(sprdte) & hour(dtefmt)==1)
for (zone in zones) {
sinddatalist <- list.files(paste('./Solar/MERRA_at_SIND/Scenario',scenario,'/zone',zone,'/',sep=''))
#winddatalist <- list.files(paste('./Wind/MERRA_at_WTK_power_LZ/zone',zone,'/',sep=''))
#Reformatting Temp
#temp <- read.table(paste('./TempExtrapolation/ZonalTemperature/temp_zone',
#                         zone,'_',as.character(yr),'.txt',sep =''),sep = '', header = T)
#solar <- read.table(paste('./SolarData/MERRA_at_SIND/merrasolarpower_zone',zone,'_aggregate_',as.character(yr),
#    '.txt',sep = ''),sep = '', header = T)
for (fle in sinddatalist){
solar <- read.table(paste('./Solar/MERRA_at_SIND/Scenario',scenario,'/zone',zone,'/',fle,sep = ''),sep = '', header = T)
#wind <- read.table(paste('./Wind/MERRA_at_WTK_power_LZ/zone',zone,'/',fle,sep = ''),sep = '', header = T)
#wind <- read.table(paste('./WindData/NREL_WTK/MERRA_at_WTK_power_LZ/merrapower_zone',zone,'_aggregate_'
#                         ,as.character(yr),'.txt',sep = ''),sep = '', header = T)
#resmat <- cbind(temp$x,solar$x,wind$x)
#resmat <- resmat[-fallndx,]
#resmat <- rbind(resmat[1:sprndx,],resmat[sprndx,],resmat[(sprndx+1):length(resmat[,1]),])
#var <- wind$x
var <- solar$x
var <- var[-fallndx]
var <- c(var[1:sprndx],var[sprndx],var[(sprndx+1):length(var)])
#write.table(var, paste('./TempExtrapolation/ZonalTemperature_DSTAdjusted/temp_zone',
#                        zone,'_',as.character(yr),'.txt',sep =''), row.names = F)
print(scenario)
if (!file.exists(paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,sep =''))) {
dir.create(paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,sep =''), recursive = TRUE)
}
write.table(var,paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,'/',fle,sep = ''),sep = '', row.names=F)
#write.table(var,paste('./Wind/MERRA_at_WIND_dstadjusted/zone',zone,'/',fle,sep = ''),sep = '', row.names=F)
#write.table(var,paste('./WindData/NREL_WTK/MERRA_at_WTK_power_DSTAdjusted/merrapower_zone',zone,'_aggregate_'
#                         ,as.character(yr),'.txt',sep = ''),sep = '',row.names=F)
}
}
#if (yr >= 2002) {
#load <- read.csv(paste('./NYISO_LoadAggregate/',as.character(yr),'nyisoload.csv',sep=''))
#load <- load[-fallndx,]
#load <- rbind(load[1:sprndx,],load[sprndx,],load[(sprndx+1):length(load$B),])
#write.csv(load,paste('./NYISO_LoadAggregate_DSTAdjusted/',as.character(yr),'nyisoload.csv',sep=''),row.names = FALSE)
}
}
#setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
library(lubridate)
#THIS IS A DAYLIGHT SAVINGS TIME ADJUSTER
# CODE REMOVES THE EXTRA HOUR DURING FALL DST AND ADDS AN HOUR DURING SPRING DST
#scenario = 1
dst <- read.csv('./dstdates.csv')
falldates <- as.Date(dst$FallDST,format="%m/%d/%Y")
sprdates <- as.Date(dst$SpringDST,format="%m/%d/%Y")
#Load in Solar, Wind, Load, and Temperature
#zones <- c('A','B','C','D','E','F','G','H','I','J','K')#Zones for Temp
#zones <- c('A','B','C','D','E','F','G','HI','J','K','J_OSW','K_OSW')# Zones for Wind
zones <- c('A','B','C','E','F','G','HI','J')#Zones for Solar
#zones <- c('A')
#The Year range for load is different than solar and wind.
yr_range <- 1980:2019
srange <- 2:159
for (scenario in srange){
print(scenario)
for (yr in yr_range) {
print(yr)
falldte <- falldates[year(falldates) == yr]
sprdte <- sprdates[year(sprdates) == yr]
dte <- read.csv(paste('./Dates/merradates_',as.character(yr),'.csv',sep=''))
dtefmt<- strptime(dte$x, format="%Y-%m-%d  %H:%M")
fallndx <- which(month(dtefmt) == month(falldte) & day(dtefmt) == day(falldte) & hour(dtefmt)==1)[1]
sprndx <- which(month(dtefmt) == month(sprdte) & day(dtefmt) == day(sprdte) & hour(dtefmt)==1)
for (zone in zones) {
sinddatalist <- list.files(paste('./Solar/MERRA_at_SIND/Scenario',scenario,'/zone',zone,'/',sep=''))
#winddatalist <- list.files(paste('./Wind/MERRA_at_WTK_power_LZ/zone',zone,'/',sep=''))
#Reformatting Temp
#temp <- read.table(paste('./TempExtrapolation/ZonalTemperature/temp_zone',
#                         zone,'_',as.character(yr),'.txt',sep =''),sep = '', header = T)
#solar <- read.table(paste('./SolarData/MERRA_at_SIND/merrasolarpower_zone',zone,'_aggregate_',as.character(yr),
#    '.txt',sep = ''),sep = '', header = T)
for (fle in sinddatalist){
solar <- read.table(paste('./Solar/MERRA_at_SIND/Scenario',scenario,'/zone',zone,'/',fle,sep = ''),sep = '', header = T)
#wind <- read.table(paste('./Wind/MERRA_at_WTK_power_LZ/zone',zone,'/',fle,sep = ''),sep = '', header = T)
#wind <- read.table(paste('./WindData/NREL_WTK/MERRA_at_WTK_power_LZ/merrapower_zone',zone,'_aggregate_'
#                         ,as.character(yr),'.txt',sep = ''),sep = '', header = T)
#resmat <- cbind(temp$x,solar$x,wind$x)
#resmat <- resmat[-fallndx,]
#resmat <- rbind(resmat[1:sprndx,],resmat[sprndx,],resmat[(sprndx+1):length(resmat[,1]),])
#var <- wind$x
var <- solar$x
var <- var[-fallndx]
var <- c(var[1:sprndx],var[sprndx],var[(sprndx+1):length(var)])
#write.table(var, paste('./TempExtrapolation/ZonalTemperature_DSTAdjusted/temp_zone',
#                        zone,'_',as.character(yr),'.txt',sep =''), row.names = F)
#print(scenario)
if (!file.exists(paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,sep =''))) {
dir.create(paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,sep =''), recursive = TRUE)
}
write.table(var,paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,'/',fle,sep = ''),sep = '', row.names=F)
#write.table(var,paste('./Wind/MERRA_at_WIND_dstadjusted/zone',zone,'/',fle,sep = ''),sep = '', row.names=F)
#write.table(var,paste('./WindData/NREL_WTK/MERRA_at_WTK_power_DSTAdjusted/merrapower_zone',zone,'_aggregate_'
#                         ,as.character(yr),'.txt',sep = ''),sep = '',row.names=F)
}
}
#if (yr >= 2002) {
#load <- read.csv(paste('./NYISO_LoadAggregate/',as.character(yr),'nyisoload.csv',sep=''))
#load <- load[-fallndx,]
#load <- rbind(load[1:sprndx,],load[sprndx,],load[(sprndx+1):length(load$B),])
#write.csv(load,paste('./NYISO_LoadAggregate_DSTAdjusted/',as.character(yr),'nyisoload.csv',sep=''),row.names = FALSE)
}
}
#setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
library(lubridate)
#THIS IS A DAYLIGHT SAVINGS TIME ADJUSTER
# CODE REMOVES THE EXTRA HOUR DURING FALL DST AND ADDS AN HOUR DURING SPRING DST
#scenario = 1
dst <- read.csv('./dstdates.csv')
falldates <- as.Date(dst$FallDST,format="%m/%d/%Y")
sprdates <- as.Date(dst$SpringDST,format="%m/%d/%Y")
#Load in Solar, Wind, Load, and Temperature
#zones <- c('A','B','C','D','E','F','G','H','I','J','K')#Zones for Temp
#zones <- c('A','B','C','D','E','F','G','HI','J','K','J_OSW','K_OSW')# Zones for Wind
zones <- c('A','B','C','E','F','G','HI','J')#Zones for Solar
#zones <- c('A')
#The Year range for load is different than solar and wind.
yr_range <- 1980:2019
srange <- 2:159
for (scenario in srange){
print(scenario)
# for (yr in yr_range) {
print(yr)
falldte <- falldates[year(falldates) == yr]
sprdte <- sprdates[year(sprdates) == yr]
dte <- read.csv(paste('./Dates/merradates_',as.character(yr),'.csv',sep=''))
dtefmt<- strptime(dte$x, format="%Y-%m-%d  %H:%M")
fallndx <- which(month(dtefmt) == month(falldte) & day(dtefmt) == day(falldte) & hour(dtefmt)==1)[1]
sprndx <- which(month(dtefmt) == month(sprdte) & day(dtefmt) == day(sprdte) & hour(dtefmt)==1)
for (zone in zones) {
sinddatalist <- list.files(paste('./Solar/MERRA_at_SIND/Scenario',scenario,'/zone',zone,'/',sep=''))
#winddatalist <- list.files(paste('./Wind/MERRA_at_WTK_power_LZ/zone',zone,'/',sep=''))
#Reformatting Temp
#temp <- read.table(paste('./TempExtrapolation/ZonalTemperature/temp_zone',
#                         zone,'_',as.character(yr),'.txt',sep =''),sep = '', header = T)
#solar <- read.table(paste('./SolarData/MERRA_at_SIND/merrasolarpower_zone',zone,'_aggregate_',as.character(yr),
#    '.txt',sep = ''),sep = '', header = T)
for (fle in sinddatalist){
solar <- read.table(paste('./Solar/MERRA_at_SIND/Scenario',scenario,'/zone',zone,'/',fle,sep = ''),sep = '', header = T)
#wind <- read.table(paste('./Wind/MERRA_at_WTK_power_LZ/zone',zone,'/',fle,sep = ''),sep = '', header = T)
#wind <- read.table(paste('./WindData/NREL_WTK/MERRA_at_WTK_power_LZ/merrapower_zone',zone,'_aggregate_'
#                         ,as.character(yr),'.txt',sep = ''),sep = '', header = T)
#resmat <- cbind(temp$x,solar$x,wind$x)
#resmat <- resmat[-fallndx,]
#resmat <- rbind(resmat[1:sprndx,],resmat[sprndx,],resmat[(sprndx+1):length(resmat[,1]),])
#var <- wind$x
var <- solar$x
var <- var[-fallndx]
var <- c(var[1:sprndx],var[sprndx],var[(sprndx+1):length(var)])
#write.table(var, paste('./TempExtrapolation/ZonalTemperature_DSTAdjusted/temp_zone',
#                        zone,'_',as.character(yr),'.txt',sep =''), row.names = F)
#print(scenario)
if (!file.exists(paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,sep =''))) {
dir.create(paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,sep =''), recursive = TRUE)
}
write.table(var,paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,'/',fle,sep = ''),sep = '', row.names=F)
#write.table(var,paste('./Wind/MERRA_at_WIND_dstadjusted/zone',zone,'/',fle,sep = ''),sep = '', row.names=F)
#write.table(var,paste('./WindData/NREL_WTK/MERRA_at_WTK_power_DSTAdjusted/merrapower_zone',zone,'_aggregate_'
#                         ,as.character(yr),'.txt',sep = ''),sep = '',row.names=F)
}
# }
#if (yr >= 2002) {
#load <- read.csv(paste('./NYISO_LoadAggregate/',as.character(yr),'nyisoload.csv',sep=''))
#load <- load[-fallndx,]
#load <- rbind(load[1:sprndx,],load[sprndx,],load[(sprndx+1):length(load$B),])
#write.csv(load,paste('./NYISO_LoadAggregate_DSTAdjusted/',as.character(yr),'nyisoload.csv',sep=''),row.names = FALSE)
}
}
#setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
library(lubridate)
#THIS IS A DAYLIGHT SAVINGS TIME ADJUSTER
# CODE REMOVES THE EXTRA HOUR DURING FALL DST AND ADDS AN HOUR DURING SPRING DST
#scenario = 1
dst <- read.csv('./dstdates.csv')
falldates <- as.Date(dst$FallDST,format="%m/%d/%Y")
sprdates <- as.Date(dst$SpringDST,format="%m/%d/%Y")
#Load in Solar, Wind, Load, and Temperature
#zones <- c('A','B','C','D','E','F','G','H','I','J','K')#Zones for Temp
#zones <- c('A','B','C','D','E','F','G','HI','J','K','J_OSW','K_OSW')# Zones for Wind
zones <- c('A','B','C','E','F','G','HI','J')#Zones for Solar
#zones <- c('A')
#The Year range for load is different than solar and wind.
yr_range <- 1980:2019
srange <- 1:159
for (scenario in srange){
print(scenario)
for (yr in yr_range) {
print(yr)
falldte <- falldates[year(falldates) == yr]
sprdte <- sprdates[year(sprdates) == yr]
dte <- read.csv(paste('./Dates/merradates_',as.character(yr),'.csv',sep=''))
dtefmt<- strptime(dte$x, format="%Y-%m-%d  %H:%M")
fallndx <- which(month(dtefmt) == month(falldte) & day(dtefmt) == day(falldte) & hour(dtefmt)==1)[1]
sprndx <- which(month(dtefmt) == month(sprdte) & day(dtefmt) == day(sprdte) & hour(dtefmt)==1)
for (zone in zones) {
sinddatalistall <- list.files(paste('./Solar/MERRA_at_SIND/Scenario',scenario,'/zone',zone,'/',sep=''),full.names = TRUE)
sinddatalist <-grep(as.character(yr), sinddatalistall, value = TRUE)
#winddatalist <- list.files(paste('./Wind/MERRA_at_WTK_power_LZ/zone',zone,'/',sep=''))
#Reformatting Temp
#temp <- read.table(paste('./TempExtrapolation/ZonalTemperature/temp_zone',
#                         zone,'_',as.character(yr),'.txt',sep =''),sep = '', header = T)
#solar <- read.table(paste('./SolarData/MERRA_at_SIND/merrasolarpower_zone',zone,'_aggregate_',as.character(yr),
#    '.txt',sep = ''),sep = '', header = T)
for (fle in sinddatalist){
solar <- read.table(paste('./Solar/MERRA_at_SIND/Scenario',scenario,'/zone',zone,'/',fle,sep = ''),sep = '', header = T)
#wind <- read.table(paste('./Wind/MERRA_at_WTK_power_LZ/zone',zone,'/',fle,sep = ''),sep = '', header = T)
#wind <- read.table(paste('./WindData/NREL_WTK/MERRA_at_WTK_power_LZ/merrapower_zone',zone,'_aggregate_'
#                         ,as.character(yr),'.txt',sep = ''),sep = '', header = T)
#resmat <- cbind(temp$x,solar$x,wind$x)
#resmat <- resmat[-fallndx,]
#resmat <- rbind(resmat[1:sprndx,],resmat[sprndx,],resmat[(sprndx+1):length(resmat[,1]),])
#var <- wind$x
var <- solar$x
var <- var[-fallndx]
var <- c(var[1:sprndx],var[sprndx],var[(sprndx+1):length(var)])
#write.table(var, paste('./TempExtrapolation/ZonalTemperature_DSTAdjusted/temp_zone',
#                        zone,'_',as.character(yr),'.txt',sep =''), row.names = F)
#print(scenario)
if (!file.exists(paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,sep =''))) {
dir.create(paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,sep =''), recursive = TRUE)
}
write.table(var,paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,'/',fle,sep = ''),sep = '', row.names=F)
#write.table(var,paste('./Wind/MERRA_at_WIND_dstadjusted/zone',zone,'/',fle,sep = ''),sep = '', row.names=F)
#write.table(var,paste('./WindData/NREL_WTK/MERRA_at_WTK_power_DSTAdjusted/merrapower_zone',zone,'_aggregate_'
#                         ,as.character(yr),'.txt',sep = ''),sep = '',row.names=F)
}
}
#if (yr >= 2002) {
#load <- read.csv(paste('./NYISO_LoadAggregate/',as.character(yr),'nyisoload.csv',sep=''))
#load <- load[-fallndx,]
#load <- rbind(load[1:sprndx,],load[sprndx,],load[(sprndx+1):length(load$B),])
#write.csv(load,paste('./NYISO_LoadAggregate_DSTAdjusted/',as.character(yr),'nyisoload.csv',sep=''),row.names = FALSE)
}
}
#setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
library(lubridate)
#THIS IS A DAYLIGHT SAVINGS TIME ADJUSTER
# CODE REMOVES THE EXTRA HOUR DURING FALL DST AND ADDS AN HOUR DURING SPRING DST
#scenario = 1
dst <- read.csv('./dstdates.csv')
falldates <- as.Date(dst$FallDST,format="%m/%d/%Y")
sprdates <- as.Date(dst$SpringDST,format="%m/%d/%Y")
#Load in Solar, Wind, Load, and Temperature
#zones <- c('A','B','C','D','E','F','G','H','I','J','K')#Zones for Temp
#zones <- c('A','B','C','D','E','F','G','HI','J','K','J_OSW','K_OSW')# Zones for Wind
zones <- c('A','B','C','E','F','G','HI','J')#Zones for Solar
#zones <- c('A')
#The Year range for load is different than solar and wind.
yr_range <- 1980:2019
srange <- 1:159
for (scenario in srange){
print(scenario)
for (yr in yr_range) {
print(yr)
falldte <- falldates[year(falldates) == yr]
sprdte <- sprdates[year(sprdates) == yr]
dte <- read.csv(paste('./Dates/merradates_',as.character(yr),'.csv',sep=''))
dtefmt<- strptime(dte$x, format="%Y-%m-%d  %H:%M")
fallndx <- which(month(dtefmt) == month(falldte) & day(dtefmt) == day(falldte) & hour(dtefmt)==1)[1]
sprndx <- which(month(dtefmt) == month(sprdte) & day(dtefmt) == day(sprdte) & hour(dtefmt)==1)
for (zone in zones) {
sinddatalistall <- list.files(paste('./Solar/MERRA_at_SIND/Scenario',scenario,'/zone',zone,'/',sep=''))
sinddatalist <-grep(as.character(yr), sinddatalistall, value = TRUE)
#winddatalist <- list.files(paste('./Wind/MERRA_at_WTK_power_LZ/zone',zone,'/',sep=''))
#Reformatting Temp
#temp <- read.table(paste('./TempExtrapolation/ZonalTemperature/temp_zone',
#                         zone,'_',as.character(yr),'.txt',sep =''),sep = '', header = T)
#solar <- read.table(paste('./SolarData/MERRA_at_SIND/merrasolarpower_zone',zone,'_aggregate_',as.character(yr),
#    '.txt',sep = ''),sep = '', header = T)
for (fle in sinddatalist){
solar <- read.table(paste('./Solar/MERRA_at_SIND/Scenario',scenario,'/zone',zone,'/',fle,sep = ''),sep = '', header = T)
#wind <- read.table(paste('./Wind/MERRA_at_WTK_power_LZ/zone',zone,'/',fle,sep = ''),sep = '', header = T)
#wind <- read.table(paste('./WindData/NREL_WTK/MERRA_at_WTK_power_LZ/merrapower_zone',zone,'_aggregate_'
#                         ,as.character(yr),'.txt',sep = ''),sep = '', header = T)
#resmat <- cbind(temp$x,solar$x,wind$x)
#resmat <- resmat[-fallndx,]
#resmat <- rbind(resmat[1:sprndx,],resmat[sprndx,],resmat[(sprndx+1):length(resmat[,1]),])
#var <- wind$x
var <- solar$x
var <- var[-fallndx]
var <- c(var[1:sprndx],var[sprndx],var[(sprndx+1):length(var)])
#write.table(var, paste('./TempExtrapolation/ZonalTemperature_DSTAdjusted/temp_zone',
#                        zone,'_',as.character(yr),'.txt',sep =''), row.names = F)
#print(scenario)
if (!file.exists(paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,sep =''))) {
dir.create(paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,sep =''), recursive = TRUE)
}
write.table(var,paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,'/',fle,sep = ''),sep = '', row.names=F)
#write.table(var,paste('./Wind/MERRA_at_WIND_dstadjusted/zone',zone,'/',fle,sep = ''),sep = '', row.names=F)
#write.table(var,paste('./WindData/NREL_WTK/MERRA_at_WTK_power_DSTAdjusted/merrapower_zone',zone,'_aggregate_'
#                         ,as.character(yr),'.txt',sep = ''),sep = '',row.names=F)
}
}
#if (yr >= 2002) {
#load <- read.csv(paste('./NYISO_LoadAggregate/',as.character(yr),'nyisoload.csv',sep=''))
#load <- load[-fallndx,]
#load <- rbind(load[1:sprndx,],load[sprndx,],load[(sprndx+1):length(load$B),])
#write.csv(load,paste('./NYISO_LoadAggregate_DSTAdjusted/',as.character(yr),'nyisoload.csv',sep=''),row.names = FALSE)
}
}
getwd()
#setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
setwd("/home/fs02/pmr82_0001/ml2589/ltclimate/RenewableGen")
#setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
#setwd("/home/fs02/pmr82_0001/ml2589/ltclimate/RenewableGen")
library(lubridate)
#THIS IS A DAYLIGHT SAVINGS TIME ADJUSTER
# CODE REMOVES THE EXTRA HOUR DURING FALL DST AND ADDS AN HOUR DURING SPRING DST
#scenario = 1
dst <- read.csv('./dstdates.csv')
falldates <- as.Date(dst$FallDST,format="%m/%d/%Y")
sprdates <- as.Date(dst$SpringDST,format="%m/%d/%Y")
#Load in Solar, Wind, Load, and Temperature
#zones <- c('A','B','C','D','E','F','G','H','I','J','K')#Zones for Temp
zones <- c('A','B','C','D','E','F','G','HI','J','K','J_OSW','K_OSW')# Zones for Wind
#zones <- c('A','B','C','E','F','G','HI','J')#Zones for Solar
#zones <- c('A')
#The Year range for load is different than solar and wind.
yr_range <- 1980:2019
srange <- 1
for (scenario in srange){
print(scenario)
for (yr in yr_range) {
print(yr)
falldte <- falldates[year(falldates) == yr]
sprdte <- sprdates[year(sprdates) == yr]
dte <- read.csv(paste('./Dates/merradates_',as.character(yr),'.csv',sep=''))
dtefmt<- strptime(dte$x, format="%Y-%m-%d  %H:%M")
fallndx <- which(month(dtefmt) == month(falldte) & day(dtefmt) == day(falldte) & hour(dtefmt)==1)[1]
sprndx <- which(month(dtefmt) == month(sprdte) & day(dtefmt) == day(sprdte) & hour(dtefmt)==1)
for (zone in zones) {
# sinddatalistall <- list.files(paste('./Solar/MERRA_at_SIND/Scenario',scenario,'/zone',zone,'/',sep=''))
# sinddatalist <-grep(as.character(yr), sinddatalistall, value = TRUE)
winddatalistall <- list.files(paste('./Wind/MERRA_at_WTK_power_LZ/zone',zone,'/',sep=''))
winddatalist <-grep(as.character(yr), winddatalistall, value = TRUE)
#Reformatting Temp
#temp <- read.table(paste('./TempExtrapolation/ZonalTemperature/temp_zone',
#                         zone,'_',as.character(yr),'.txt',sep =''),sep = '', header = T)
#solar <- read.table(paste('./SolarData/MERRA_at_SIND/merrasolarpower_zone',zone,'_aggregate_',as.character(yr),
#    '.txt',sep = ''),sep = '', header = T)
for (fle in sinddatalist){
#solar <- read.table(paste('./Solar/MERRA_at_SIND/Scenario',scenario,'/zone',zone,'/',fle,sep = ''),sep = '', header = T)
wind <- read.table(paste('./Wind/MERRA_at_WTK_power_LZ/zone',zone,'/',fle,sep = ''),sep = '', header = T)
#wind <- read.table(paste('./WindData/NREL_WTK/MERRA_at_WTK_power_LZ/merrapower_zone',zone,'_aggregate_'
#                         ,as.character(yr),'.txt',sep = ''),sep = '', header = T)
#resmat <- cbind(temp$x,solar$x,wind$x)
#resmat <- resmat[-fallndx,]
#resmat <- rbind(resmat[1:sprndx,],resmat[sprndx,],resmat[(sprndx+1):length(resmat[,1]),])
var <- wind$x
#var <- solar$x
var <- var[-fallndx]
var <- c(var[1:sprndx],var[sprndx],var[(sprndx+1):length(var)])
write.table(var, paste('./TempExtrapolation/ZonalTemperature_DSTAdjusted/temp_zone',
zone,'_',as.character(yr),'.txt',sep =''), row.names = F)
#print(scenario)
# if (!file.exists(paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,sep =''))) {
#   dir.create(paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,sep =''), recursive = TRUE)
# }
# write.table(var,paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,'/',fle,sep = ''),sep = '', row.names=F)
#write.table(var,paste('./Wind/MERRA_at_WIND_dstadjusted/zone',zone,'/',fle,sep = ''),sep = '', row.names=F)
#write.table(var,paste('./WindData/NREL_WTK/MERRA_at_WTK_power_DSTAdjusted/merrapower_zone',zone,'_aggregate_'
#                         ,as.character(yr),'.txt',sep = ''),sep = '',row.names=F)
}
}
#if (yr >= 2002) {
#load <- read.csv(paste('./NYISO_LoadAggregate/',as.character(yr),'nyisoload.csv',sep=''))
#load <- load[-fallndx,]
#load <- rbind(load[1:sprndx,],load[sprndx,],load[(sprndx+1):length(load$B),])
#write.csv(load,paste('./NYISO_LoadAggregate_DSTAdjusted/',as.character(yr),'nyisoload.csv',sep=''),row.names = FALSE)
}
}
#setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
#setwd("/home/fs02/pmr82_0001/ml2589/ltclimate/RenewableGen")
library(lubridate)
#THIS IS A DAYLIGHT SAVINGS TIME ADJUSTER
# CODE REMOVES THE EXTRA HOUR DURING FALL DST AND ADDS AN HOUR DURING SPRING DST
#scenario = 1
dst <- read.csv('./dstdates.csv')
falldates <- as.Date(dst$FallDST,format="%m/%d/%Y")
sprdates <- as.Date(dst$SpringDST,format="%m/%d/%Y")
#Load in Solar, Wind, Load, and Temperature
#zones <- c('A','B','C','D','E','F','G','H','I','J','K')#Zones for Temp
zones <- c('A','B','C','D','E','F','G','HI','J','K','J_OSW','K_OSW')# Zones for Wind
#zones <- c('A','B','C','E','F','G','HI','J')#Zones for Solar
#zones <- c('A')
#The Year range for load is different than solar and wind.
yr_range <- 1980:2019
srange <- 1
for (scenario in srange){
print(scenario)
for (yr in yr_range) {
print(yr)
falldte <- falldates[year(falldates) == yr]
sprdte <- sprdates[year(sprdates) == yr]
dte <- read.csv(paste('./Dates/merradates_',as.character(yr),'.csv',sep=''))
dtefmt<- strptime(dte$x, format="%Y-%m-%d  %H:%M")
fallndx <- which(month(dtefmt) == month(falldte) & day(dtefmt) == day(falldte) & hour(dtefmt)==1)[1]
sprndx <- which(month(dtefmt) == month(sprdte) & day(dtefmt) == day(sprdte) & hour(dtefmt)==1)
for (zone in zones) {
# sinddatalistall <- list.files(paste('./Solar/MERRA_at_SIND/Scenario',scenario,'/zone',zone,'/',sep=''))
# sinddatalist <-grep(as.character(yr), sinddatalistall, value = TRUE)
winddatalistall <- list.files(paste('./Wind/MERRA_at_WTK_power_LZ/zone',zone,'/',sep=''))
winddatalist <-grep(as.character(yr), winddatalistall, value = TRUE)
#Reformatting Temp
#temp <- read.table(paste('./TempExtrapolation/ZonalTemperature/temp_zone',
#                         zone,'_',as.character(yr),'.txt',sep =''),sep = '', header = T)
#solar <- read.table(paste('./SolarData/MERRA_at_SIND/merrasolarpower_zone',zone,'_aggregate_',as.character(yr),
#    '.txt',sep = ''),sep = '', header = T)
for (fle in sinddatalist){
#solar <- read.table(paste('./Solar/MERRA_at_SIND/Scenario',scenario,'/zone',zone,'/',fle,sep = ''),sep = '', header = T)
wind <- read.table(paste('./Wind/MERRA_at_WTK_power_LZ/zone',zone,'/',fle,sep = ''),sep = '', header = T)
#wind <- read.table(paste('./WindData/NREL_WTK/MERRA_at_WTK_power_LZ/merrapower_zone',zone,'_aggregate_'
#                         ,as.character(yr),'.txt',sep = ''),sep = '', header = T)
#resmat <- cbind(temp$x,solar$x,wind$x)
#resmat <- resmat[-fallndx,]
#resmat <- rbind(resmat[1:sprndx,],resmat[sprndx,],resmat[(sprndx+1):length(resmat[,1]),])
var <- wind$x
#var <- solar$x
var <- var[-fallndx]
var <- c(var[1:sprndx],var[sprndx],var[(sprndx+1):length(var)])
#write.table(var, paste('./TempExtrapolation/ZonalTemperature_DSTAdjusted/temp_zone',
#             zone,'_',as.character(yr),'.txt',sep =''), row.names = F)
#print(scenario)
# if (!file.exists(paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,sep =''))) {
#   dir.create(paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,sep =''), recursive = TRUE)
# }
# write.table(var,paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,'/',fle,sep = ''),sep = '', row.names=F)
write.table(var,paste('./Wind/MERRA_at_WIND_dstadjusted/zone',zone,'/',fle,sep = ''),sep = '', row.names=F)
#write.table(var,paste('./WindData/NREL_WTK/MERRA_at_WTK_power_DSTAdjusted/merrapower_zone',zone,'_aggregate_'
#                         ,as.character(yr),'.txt',sep = ''),sep = '',row.names=F)
}
}
#if (yr >= 2002) {
#load <- read.csv(paste('./NYISO_LoadAggregate/',as.character(yr),'nyisoload.csv',sep=''))
#load <- load[-fallndx,]
#load <- rbind(load[1:sprndx,],load[sprndx,],load[(sprndx+1):length(load$B),])
#write.csv(load,paste('./NYISO_LoadAggregate_DSTAdjusted/',as.character(yr),'nyisoload.csv',sep=''),row.names = FALSE)
}
}
#setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
#setwd("/home/fs02/pmr82_0001/ml2589/ltclimate/RenewableGen")
library(lubridate)
#THIS IS A DAYLIGHT SAVINGS TIME ADJUSTER
# CODE REMOVES THE EXTRA HOUR DURING FALL DST AND ADDS AN HOUR DURING SPRING DST
#scenario = 1
dst <- read.csv('./dstdates.csv')
falldates <- as.Date(dst$FallDST,format="%m/%d/%Y")
sprdates <- as.Date(dst$SpringDST,format="%m/%d/%Y")
#Load in Solar, Wind, Load, and Temperature
#zones <- c('A','B','C','D','E','F','G','H','I','J','K')#Zones for Temp
zones <- c('A','B','C','D','E','F','G','HI','J','K','J_OSW','K_OSW')# Zones for Wind
#zones <- c('A','B','C','E','F','G','HI','J')#Zones for Solar
#zones <- c('A')
#The Year range for load is different than solar and wind.
yr_range <- 1980:2019
srange <- 1
for (scenario in srange){
print(scenario)
for (yr in yr_range) {
print(yr)
falldte <- falldates[year(falldates) == yr]
sprdte <- sprdates[year(sprdates) == yr]
dte <- read.csv(paste('./Dates/merradates_',as.character(yr),'.csv',sep=''))
dtefmt<- strptime(dte$x, format="%Y-%m-%d  %H:%M")
fallndx <- which(month(dtefmt) == month(falldte) & day(dtefmt) == day(falldte) & hour(dtefmt)==1)[1]
sprndx <- which(month(dtefmt) == month(sprdte) & day(dtefmt) == day(sprdte) & hour(dtefmt)==1)
for (zone in zones) {
# sinddatalistall <- list.files(paste('./Solar/MERRA_at_SIND/Scenario',scenario,'/zone',zone,'/',sep=''))
# sinddatalist <-grep(as.character(yr), sinddatalistall, value = TRUE)
winddatalistall <- list.files(paste('./Wind/MERRA_at_WTK_power_LZ/zone',zone,'/',sep=''))
winddatalist <-grep(as.character(yr), winddatalistall, value = TRUE)
#Reformatting Temp
#temp <- read.table(paste('./TempExtrapolation/ZonalTemperature/temp_zone',
#                         zone,'_',as.character(yr),'.txt',sep =''),sep = '', header = T)
#solar <- read.table(paste('./SolarData/MERRA_at_SIND/merrasolarpower_zone',zone,'_aggregate_',as.character(yr),
#    '.txt',sep = ''),sep = '', header = T)
for (fle in winddatalist){
#solar <- read.table(paste('./Solar/MERRA_at_SIND/Scenario',scenario,'/zone',zone,'/',fle,sep = ''),sep = '', header = T)
wind <- read.table(paste('./Wind/MERRA_at_WTK_power_LZ/zone',zone,'/',fle,sep = ''),sep = '', header = T)
#wind <- read.table(paste('./WindData/NREL_WTK/MERRA_at_WTK_power_LZ/merrapower_zone',zone,'_aggregate_'
#                         ,as.character(yr),'.txt',sep = ''),sep = '', header = T)
#resmat <- cbind(temp$x,solar$x,wind$x)
#resmat <- resmat[-fallndx,]
#resmat <- rbind(resmat[1:sprndx,],resmat[sprndx,],resmat[(sprndx+1):length(resmat[,1]),])
var <- wind$x
#var <- solar$x
var <- var[-fallndx]
var <- c(var[1:sprndx],var[sprndx],var[(sprndx+1):length(var)])
#write.table(var, paste('./TempExtrapolation/ZonalTemperature_DSTAdjusted/temp_zone',
#             zone,'_',as.character(yr),'.txt',sep =''), row.names = F)
#print(scenario)
# if (!file.exists(paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,sep =''))) {
#   dir.create(paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,sep =''), recursive = TRUE)
# }
# write.table(var,paste('./Solar/MERRA_at_SIND_dstadjusted/Scenario',scenario,'/zone',zone,'/',fle,sep = ''),sep = '', row.names=F)
write.table(var,paste('./Wind/MERRA_at_WIND_dstadjusted/zone',zone,'/',fle,sep = ''),sep = '', row.names=F)
#write.table(var,paste('./WindData/NREL_WTK/MERRA_at_WTK_power_DSTAdjusted/merrapower_zone',zone,'_aggregate_'
#                         ,as.character(yr),'.txt',sep = ''),sep = '',row.names=F)
}
}
#if (yr >= 2002) {
#load <- read.csv(paste('./NYISO_LoadAggregate/',as.character(yr),'nyisoload.csv',sep=''))
#load <- load[-fallndx,]
#load <- rbind(load[1:sprndx,],load[sprndx,],load[(sprndx+1):length(load$B),])
#write.csv(load,paste('./NYISO_LoadAggregate_DSTAdjusted/',as.character(yr),'nyisoload.csv',sep=''),row.names = FALSE)
}
}
